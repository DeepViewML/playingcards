schema: '2.0'
stages:
  train:
    cmd: make train
    deps:
    - path: Makefile
      hash: md5
      md5: 0a9262c611b472c02fcd8484571386ea
      size: 1342
    - path: dataset
      hash: md5
      md5: e1312edd2850b23c1f1f286ae7d99aaf.dir
      size: 332372378
      nfiles: 2967
    - path: dataset.yaml
      hash: md5
      md5: d4ac543abadc7eaf1b8276b9959e0990
      size: 327
    - path: out/modelpack.manifest
      hash: md5
      md5: 069d2d03159d46f2f61a4c03118dee49
      size: 7427
    params:
      params.yaml:
        ChannelShuffle: 0.01
        Flip: 0.5
        Mosaic: 0.3
        RandomBrightnessContrast: 0.2
        RandomFog: 0.01
        ShiftScaleRotate: 0.3
        ToGray: 0.2
        batch_size: 10
        display: 10
        encoding_iou: 0.3
        epochs: 10
        exponential_decay: 0
        focus: false
        initial_lr: 0.001
        iou_threshold: 0.5
        letterbox: false
        objects_size: large
        remove_background_class: false
        score_threshold: 0.45
        shape: 240,320,3
        task: detection
        use_power_decoder: true
        warmup_epochs: 2
        warmup_lr: 1e-05
        weighted_classification: 1.0
        weighted_localization: 1.0
        weighted_objectness: 1.0
        weights: coco
    outs:
    - path: out/best.h5
      hash: md5
      md5: 998d6769ea62828bf429de01dc739cab
      size: 24000056
    - path: out/config.json
      hash: md5
      md5: 881d3f986bfaba41ea9ddb462c5630e4
      size: 1664
    - path: out/labels.txt
      hash: md5
      md5: 42022d602e77478b53ac78ad1d0cbcfc
      size: 76
    - path: out/last.h5
      hash: md5
      md5: 53f7d201228def660c16a052befe6bbd
      size: 24000056
  manifest:
    cmd: make manifest
    deps:
    - path: Makefile
      hash: md5
      md5: 0a9262c611b472c02fcd8484571386ea
      size: 1342
    outs:
    - path: out/converter.manifest
      hash: md5
      md5: 6deeb2c487fb364c4daba3da8fec440e
      size: 6951
    - path: out/modelpack.manifest
      hash: md5
      md5: 069d2d03159d46f2f61a4c03118dee49
      size: 7427
  deploy:
    cmd: make deploy
    deps:
    - path: Makefile
      hash: md5
      md5: 0a9262c611b472c02fcd8484571386ea
      size: 1342
    - path: dataset
      hash: md5
      md5: e1312edd2850b23c1f1f286ae7d99aaf.dir
      size: 332372378
      nfiles: 2967
    - path: out/best.h5
      hash: md5
      md5: c32b1370af10d3f687976de42a0df558
      size: 24000056
    - path: out/converter.manifest
      hash: md5
      md5: 6deeb2c487fb364c4daba3da8fec440e
      size: 6951
    - path: out/labels.txt
      hash: md5
      md5: 42022d602e77478b53ac78ad1d0cbcfc
      size: 76
    - path: out/last.h5
      hash: md5
      md5: 235cb890bd2845e2f54d00742a1b73d1
      size: 24000056
    params:
      params.yaml:
        ChannelShuffle: 0.01
        Flip: 0.5
        Mosaic: 0.3
        RandomBrightnessContrast: 0.2
        RandomFog: 0.01
        ShiftScaleRotate: 0.3
        ToGray: 0.2
        batch_size: 10
        display: 10
        encoding_iou: 0.3
        epochs: 3
        exponential_decay: 0
        focus: false
        initial_lr: 0.001
        iou_threshold: 0.5
        letterbox: false
        objects_size: large
        remove_background_class: false
        score_threshold: 0.45
        shape: 240,320,3
        task: detection
        use_power_decoder: true
        warmup_epochs: 2
        warmup_lr: 1e-05
        weighted_classification: 1.0
        weighted_localization: 1.0
        weighted_objectness: 1.0
        weights: coco
    outs:
    - path: out/best.rtm
      hash: md5
      md5: 5e1c79092160f7af75d019fdcc44342f
      size: 5963360
    - path: out/last.rtm
      hash: md5
      md5: 6d7c05035e77bea315106e28b958f9c2
      size: 5963360
